{% extends 'base.html.twig' %}

{% block title %}Artist{% endblock %}

{% block body %}
    <h1>Artist</h1>
    {# A présenter sous forme de cards pour plus de visibilité #}
    <table class="table">
        <thead>
            <td>ID</td>
            <td>Name</td>
            <td>Disc
                {% if is_granted('ROLE_ADMIN') %}
                    <a href="{{ path('app_disc_new')}}">
                        <i class="fa fa-solid fa-plus"></i>
                    </a>
                {% endif %}
            </td>
        </thead>
        <tbody>
            <td>{{ artist.id }}</td>
            <td>{{ artist.name }}
                {% if is_granted('ROLE_ADMIN') %}
                <a href="{{ path('app_artist_edit', {'id': artist.id}) }}">
                    <i class="fa fa-solid fa-pen"></i>
                </a>
                {% endif %}
            </td>
            <td>
                {% for disc in artist.discs %}
                       
                        {{ disc }} 
                        {% if is_granted('ROLE_ADMIN') %}
                            <a href="{{ path('app_disc_edit', {'id': disc.id}) }}">
                                <i class="fa fa-solid fa-pen"></i>
                            </a>
                        {% endif %}
                        <br>
                   
                {% endfor %}
            </td>

        </tbody>
    </table>

    <div class="row">
        <div class='col-2 offset-2'>
            <a href="{{ path('app_artist_index') }}" class="btn btn-secondary">back to list</a>
        </div>
        <div class='col-2 offset-2'>
            {{ include('artist/_delete_form.html.twig') }}
        </div>
    </div>

{% endblock %}
